type MockUSDCContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type Transfer @entity(immutable: true) {
  id: ID!
  from: Bytes!
  to: Bytes!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RoboshareTokensContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type RoboshareToken @entity(immutable: true) {
  id: ID! # tokenId
  revenueTokenId: BigInt!
  price: BigInt!
  supply: BigInt!
  maturityDate: BigInt!
  setAtBlock: BigInt!
}

type TransferSingleEvent @entity(immutable: true) {
  id: ID! # transaction hash + log index
  operator: Bytes!
  from: Bytes!
  to: Bytes!
  tokenId: BigInt!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type PartnerManagerContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type Partner @entity(immutable: true) {
  id: ID! # partner address
  name: String!
  authorizedAt: BigInt!
  address: Bytes!
}

type RegistryRouterContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type BoundId @entity(immutable: true) {
  id: ID! # id (assetId or tokenId)
  idValue: BigInt!
  registry: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type VehicleRegistryContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type Vehicle @entity(immutable: true) {
  id: ID! # vehicleId
  partner: Bytes!
  vin: String!
  make: String
  model: String
  year: BigInt
  metadataURI: String
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type TreasuryContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type CollateralLock @entity(immutable: true) {
  id: ID! # assetId + transaction hash
  assetId: BigInt!
  partner: Bytes!
  amount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketplaceContract @entity(immutable: true) {
  id: ID!
  address: Bytes!
}

type Listing @entity(immutable: false) {
  id: ID! # listingId
  tokenId: BigInt!
  assetId: BigInt!
  seller: Bytes!
  amount: BigInt!
  amountSold: BigInt!
  pricePerToken: BigInt!
  expiresAt: BigInt!
  buyerPaysFee: Boolean!
  status: String! # "active", "completed", "cancelled"
  isCancelled: Boolean!
  isEnded: Boolean!
  claimedAmount: BigInt!
  refundedUSDC: BigInt!
  createdAt: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type TokenClaim @entity(immutable: true) {
  id: ID! # transaction hash + log index
  listingId: BigInt!
  buyer: Bytes!
  amount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RefundClaim @entity(immutable: true) {
  id: ID! # transaction hash + log index
  listingId: BigInt!
  buyer: Bytes!
  amount: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type TokenTrade @entity(immutable: true) {
  id: ID! # transaction hash + log index
  listingId: BigInt!
  tokenId: BigInt!
  buyer: Bytes!
  seller: Bytes!
  amount: BigInt!
  totalPrice: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type EarningsDistribution @entity(immutable: true) {
  id: ID! # transaction hash + log index
  assetId: BigInt!
  partner: Bytes!
  totalRevenue: BigInt!
  netEarnings: BigInt!
  period: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type AssetEarnings @entity(immutable: false) {
  id: ID! # assetId
  assetId: BigInt!
  totalEarnings: BigInt!
  totalRevenue: BigInt!
  distributionCount: BigInt!
  lastDistributionAt: BigInt!
  firstDistributionAt: BigInt!
}